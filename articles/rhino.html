<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="shiny.i18n">
<title>shiny.i18n in Rhino applications • shiny.i18n</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="shiny.i18n in Rhino applications">
<meta property="og:description" content="shiny.i18n">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Google tag (gtag.js) --><script async src="https://www.googletagmanager.com/gtag/js?id=G-0FLEMEJTD8"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-0FLEMEJTD8');
</script><!-- Google tag (gtag.js) --><script async src="https://www.googletagmanager.com/gtag/js?id=G-FQQZL5V93G"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-FQQZL5V93G');
</script><script async defer src="https://buttons.github.io/buttons.js"></script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">shiny.i18n</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.0</small>

    <a href="https://shiny.tools/#shiny-i18n" class="external-link home"><i class="fa fa-lg fa-chevron-left"></i></a>

    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../index.html">
    <span class="fa fa-home"></span>
     
    Start
  </a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../articles/index.html">
    <span class="fa fa-university"></span>
     
    Tutorials
  </a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">
    <span class="fa fa-file-code-o"></span>
     
    Reference
  </a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">
    <span class="fa fa-newspaper-o"></span>
     
    Changelog
  </a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/Appsilon/shiny.i18n">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://twitter.com/Appsilon">
    <span class="fa fa-twitter fa-lg"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://fosstodon.org/@appsilon">
    <span class="fab fa fab fa-mastodon fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>shiny.i18n in Rhino applications</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/Appsilon/shiny.i18n/blob/HEAD/vignettes/rhino.Rmd" class="external-link"><code>vignettes/rhino.Rmd</code></a></small>
      <div class="d-none name"><code>rhino.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>This tutorial shows an easy way of implementing internationalization
in a Shiny application built using <a href="https://appsilon.github.io/rhino/" class="external-link">Rhino framework</a>. The goal
is to recreate a simple app that can be <a href="https://github.com/Appsilon/shiny.i18n/blob/master/examples/live_language_change/browser_app.R" class="external-link">found
in the examples</a>, but with the Rhino setup.</p>
</div>
<div class="section level2">
<h2 id="setup-rhino-application">Setup Rhino application<a class="anchor" aria-label="anchor" href="#setup-rhino-application"></a>
</h2>
<p>The first step is to create a Rhino application. Before that, make
sure that you have <code>rhino</code> installed:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"rhino"</span><span class="op">)</span></span></code></pre></div>
<p>Now, initialize a new Rhino application. You can do it either by
using RStudio Wizard or a function
<code>rhino::init("rhino_i18n")</code>. More details on how to create a
Rhino app can be found in the <a href="https://appsilon.github.io/rhino/articles/tutorial/create-your-first-rhino-app.html#create-an-initial-application" class="external-link">Rhino
tutorial</a>.</p>
<p>After initializing the application, the next step is to install
<code>shiny.i18n</code> and add it to the dependencies.</p>
<p>In the R console run:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"shiny.i18n"</span><span class="op">)</span></span></code></pre></div>
<p>After that, modify <code>dependencies.R</code> file:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># dependencies.R</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://appsilon.github.io/rhino/" class="external-link">rhino</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://appsilon.github.io/shiny.i18n/">shiny.i18n</a></span><span class="op">)</span></span></code></pre></div>
<p>And update <code>renv.lock</code> by running in the R console:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">renv</span><span class="fu">::</span><span class="fu">snapshot</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="build-a-basic-application">Build a basic application<a class="anchor" aria-label="anchor" href="#build-a-basic-application"></a>
</h2>
<p>The next step is to fill out the application with the content. We
will use the example application that can be <a href="https://github.com/Appsilon/shiny.i18n/blob/master/examples/live_language_change/browser_app.R" class="external-link">found
in the examples</a>.</p>
<div class="section level3">
<h3 id="initial-application">Initial application<a class="anchor" aria-label="anchor" href="#initial-application"></a>
</h3>
<p>First, let’s implement the basic version of the app (without
internationalization). Modify <code>app/main.R</code> in the following
way:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># app/main.R</span></span>
<span></span>
<span><span class="fu">box</span><span class="fu">::</span><span class="fu">use</span><span class="op">(</span></span>
<span>  <span class="va">shiny</span>,</span>
<span>  <span class="va">graphics</span><span class="op">[</span><span class="va">hist</span><span class="op">]</span>,</span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co">#' @export</span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">id</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">ns</span> <span class="op">&lt;-</span> <span class="va">shiny</span><span class="op">$</span><span class="fu">NS</span><span class="op">(</span><span class="va">id</span><span class="op">)</span></span>
<span>  <span class="va">shiny</span><span class="op">$</span><span class="fu">fluidPage</span><span class="op">(</span></span>
<span>    <span class="va">shiny</span><span class="op">$</span><span class="fu">div</span><span class="op">(</span></span>
<span>      style <span class="op">=</span> <span class="st">"float: right;"</span>,</span>
<span>      <span class="va">shiny</span><span class="op">$</span><span class="fu">selectInput</span><span class="op">(</span></span>
<span>        <span class="fu">ns</span><span class="op">(</span><span class="st">"selected_language"</span><span class="op">)</span>,</span>
<span>        <span class="st">"Change language"</span>,</span>
<span>        choices <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"en"</span>, <span class="st">"pl"</span>, <span class="st">"it"</span><span class="op">)</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">)</span>,</span>
<span>    <span class="va">shiny</span><span class="op">$</span><span class="fu">titlePanel</span><span class="op">(</span><span class="st">"Hello Shiny!"</span>, windowTitle <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span>,</span>
<span>    <span class="va">shiny</span><span class="op">$</span><span class="fu">sidebarLayout</span><span class="op">(</span></span>
<span>      <span class="va">shiny</span><span class="op">$</span><span class="fu">sidebarPanel</span><span class="op">(</span></span>
<span>        <span class="va">shiny</span><span class="op">$</span><span class="fu">sliderInput</span><span class="op">(</span></span>
<span>          <span class="fu">ns</span><span class="op">(</span><span class="st">"bins"</span><span class="op">)</span>,</span>
<span>          <span class="st">"Number of bins:"</span>,</span>
<span>          min <span class="op">=</span> <span class="fl">1</span>,</span>
<span>          max <span class="op">=</span> <span class="fl">50</span>,</span>
<span>          value <span class="op">=</span> <span class="fl">30</span></span>
<span>        <span class="op">)</span></span>
<span>      <span class="op">)</span>,</span>
<span>      <span class="va">shiny</span><span class="op">$</span><span class="fu">mainPanel</span><span class="op">(</span></span>
<span>        <span class="va">shiny</span><span class="op">$</span><span class="fu">plotOutput</span><span class="op">(</span><span class="fu">ns</span><span class="op">(</span><span class="st">"distPlot"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>        <span class="va">shiny</span><span class="op">$</span><span class="fu">p</span><span class="op">(</span><span class="st">"This is description of the plot."</span><span class="op">)</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co">#' @export</span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">id</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">shiny</span><span class="op">$</span><span class="fu">moduleServer</span><span class="op">(</span><span class="va">id</span>, <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">output</span><span class="op">$</span><span class="va">distPlot</span> <span class="op">&lt;-</span> <span class="va">shiny</span><span class="op">$</span><span class="fu">renderPlot</span><span class="op">(</span><span class="op">{</span></span>
<span>      <span class="va">x</span> <span class="op">&lt;-</span> <span class="fu">datasets</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/r/datasets/faithful.html" class="external-link">faithful</a></span><span class="op">[</span>, <span class="fl">2</span><span class="op">]</span></span>
<span>      <span class="va">bins</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>, length.out <span class="op">=</span> <span class="va">input</span><span class="op">$</span><span class="va">bins</span> <span class="op">+</span> <span class="fl">1</span><span class="op">)</span></span>
<span>      <span class="fu"><a href="https://rdrr.io/r/graphics/hist.html" class="external-link">hist</a></span><span class="op">(</span></span>
<span>        <span class="va">x</span>,</span>
<span>        breaks <span class="op">=</span> <span class="va">bins</span>,</span>
<span>        col <span class="op">=</span> <span class="st">"darkgray"</span>,</span>
<span>        border <span class="op">=</span> <span class="st">"white"</span>,</span>
<span>        main <span class="op">=</span> <span class="st">"Histogram of x"</span>,</span>
<span>        ylab <span class="op">=</span> <span class="st">"Frequency"</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">}</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>If you run it with <code><a href="https://rdrr.io/pkg/shiny/man/runApp.html" class="external-link">shiny::runApp()</a></code> you will see a
slightly modified version of the “Old Faithful Geyser Data” app.</p>
<div class="app-preview">
<p><img src="images/i18n_init.png"></p>
</div>
</div>
<div class="section level3">
<h3 id="add-translator">Add translator<a class="anchor" aria-label="anchor" href="#add-translator"></a>
</h3>
<p>The next step is to add an instance of
<code><a href="../reference/Translator.html">shiny.i18n::Translator</a></code> class and provide the translations.
In <code>shiny.i18n</code>, translations can be added as CSV or JSON
files - we will use the latter. Create <code>app/translations</code>
directory, and inside add <code>translations.json</code> file:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode json"><code class="sourceCode json"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">"languages"</span><span class="fu">:</span> <span class="ot">[</span><span class="st">"en"</span><span class="ot">,</span> <span class="st">"pl"</span><span class="ot">,</span> <span class="st">"it"</span><span class="ot">]</span><span class="fu">,</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">"translation"</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">{</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>        <span class="dt">"en"</span><span class="fu">:</span> <span class="st">"Hello Shiny!"</span><span class="fu">,</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>        <span class="dt">"pl"</span><span class="fu">:</span> <span class="st">"Witaj Shiny!"</span><span class="fu">,</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>        <span class="dt">"it"</span><span class="fu">:</span> <span class="st">"Ciao Shiny!"</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>      <span class="fu">}</span><span class="ot">,</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>      <span class="fu">{</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>        <span class="dt">"en"</span><span class="fu">:</span> <span class="st">"Number of bins:"</span><span class="fu">,</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>        <span class="dt">"pl"</span><span class="fu">:</span> <span class="st">"Liczba podziałek:"</span><span class="fu">,</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>        <span class="dt">"it"</span><span class="fu">:</span> <span class="st">"Numero di intervalli"</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>      <span class="fu">}</span><span class="ot">,</span></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>      <span class="fu">{</span></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>        <span class="dt">"en"</span><span class="fu">:</span> <span class="st">"This is description of the plot."</span><span class="fu">,</span></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>        <span class="dt">"pl"</span><span class="fu">:</span> <span class="st">"To jest opis obrazka."</span><span class="fu">,</span></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>        <span class="dt">"it"</span><span class="fu">:</span> <span class="st">"Questa è la descrizione della grafico."</span></span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>      <span class="fu">}</span><span class="ot">,</span></span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>      <span class="fu">{</span></span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>        <span class="dt">"en"</span><span class="fu">:</span> <span class="st">"Histogram of x"</span><span class="fu">,</span></span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>        <span class="dt">"pl"</span><span class="fu">:</span> <span class="st">"Histogram x"</span><span class="fu">,</span></span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a>        <span class="dt">"it"</span><span class="fu">:</span> <span class="st">"Istogramma di x"</span></span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a>      <span class="fu">}</span><span class="ot">,</span></span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a>      <span class="fu">{</span></span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a>        <span class="dt">"en"</span><span class="fu">:</span> <span class="st">"Frequency"</span><span class="fu">,</span></span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a>        <span class="dt">"pl"</span><span class="fu">:</span> <span class="st">"Częstotliwość"</span><span class="fu">,</span></span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a>        <span class="dt">"it"</span><span class="fu">:</span> <span class="st">"Frequenza"</span></span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a>      <span class="fu">}</span><span class="ot">,</span></span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a>      <span class="fu">{</span></span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a>        <span class="dt">"en"</span><span class="fu">:</span> <span class="st">"Change language"</span><span class="fu">,</span></span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a>        <span class="dt">"pl"</span><span class="fu">:</span> <span class="st">"Wybierz język"</span><span class="fu">,</span></span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a>        <span class="dt">"it"</span><span class="fu">:</span> <span class="st">"Cambia lingua"</span></span>
<span id="cb6-33"><a href="#cb6-33" aria-hidden="true" tabindex="-1"></a>      <span class="fu">}</span></span>
<span id="cb6-34"><a href="#cb6-34" aria-hidden="true" tabindex="-1"></a>    <span class="ot">]</span></span>
<span id="cb6-35"><a href="#cb6-35" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<p>Now, we need to create a Translator and pass the path to the
translation file. In the <code>app/main.R</code> file add:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># app/main.R</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>box<span class="sc">::</span><span class="fu">use</span>(</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  shiny,</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  graphics[hist],</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>  shiny.i18n[Translator],</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>i18n <span class="ot">&lt;-</span> Translator<span class="sc">$</span><span class="fu">new</span>(<span class="at">translation_json_path =</span> <span class="st">"app/translations/translations.json"</span>)</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a><span class="co">#' @export</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>ui <span class="ot">&lt;-</span> <span class="cf">function</span>(id) {</span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>...</span></code></pre></div>
<p>The next step is to choose the default translation language:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># app/main.R</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>box<span class="sc">::</span><span class="fu">use</span>(</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  shiny,</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  graphics[hist],</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>  shiny.i18n[Translator],</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>i18n <span class="ot">&lt;-</span> Translator<span class="sc">$</span><span class="fu">new</span>(<span class="at">translation_json_path =</span> <span class="st">"app/translations/translations.json"</span>)</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>i18n<span class="sc">$</span><span class="fu">set_translation_language</span>(<span class="st">"en"</span>)</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a><span class="co">#' @export</span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>ui <span class="ot">&lt;-</span> <span class="cf">function</span>(id) {</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>...</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="translate-ui-elements">Translate UI elements<a class="anchor" aria-label="anchor" href="#translate-ui-elements"></a>
</h3>
<p>Now we are ready to start plugging the translator into the
application. First, the language selection input should use languages
available in the translator and start with the default language
selected.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># app/main.R</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>box<span class="sc">::</span><span class="fu">use</span>(</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  shiny,</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  graphics[hist],</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  shiny.i18n[Translator],</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>i18n <span class="ot">&lt;-</span> Translator<span class="sc">$</span><span class="fu">new</span>(<span class="at">translation_json_path =</span> <span class="st">"app/translations/translations.json"</span>)</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>i18n<span class="sc">$</span><span class="fu">set_translation_language</span>(<span class="st">"en"</span>)</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a><span class="co">#' @export</span></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>ui <span class="ot">&lt;-</span> <span class="cf">function</span>(id) {</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>  ns <span class="ot">&lt;-</span> shiny<span class="sc">$</span><span class="fu">NS</span>(id)</span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>  shiny<span class="sc">$</span><span class="fu">fluidPage</span>(</span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>    shiny<span class="sc">$</span><span class="fu">div</span>(</span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>      <span class="at">style =</span> <span class="st">"float: right;"</span>,</span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>      shiny<span class="sc">$</span><span class="fu">selectInput</span>(</span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ns</span>(<span class="st">"selected_language"</span>),</span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Change language"</span>,</span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a>        <span class="at">choices =</span> i18n<span class="sc">$</span><span class="fu">get_languages</span>(),</span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a>        <span class="at">selected =</span> i18n<span class="sc">$</span><span class="fu">get_key_translation</span>()</span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a>    shiny<span class="sc">$</span><span class="fu">titlePanel</span>(<span class="st">"Hello Shiny!"</span>, <span class="at">windowTitle =</span> <span class="cn">NULL</span>),</span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-27"><a href="#cb9-27" aria-hidden="true" tabindex="-1"></a>...</span></code></pre></div>
<p>We also need to add <code>shiny.i18n</code> dependencies and add the
translator to the UI by calling <code><a href="../reference/usei18n.html">usei18n()</a></code>:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># app/main.R</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>box<span class="sc">::</span><span class="fu">use</span>(</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  shiny,</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  graphics[hist],</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>  shiny.i18n[Translator, usei18n],</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>i18n <span class="ot">&lt;-</span> Translator<span class="sc">$</span><span class="fu">new</span>(<span class="at">translation_json_path =</span> <span class="st">"app/translations/translations.json"</span>)</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>i18n<span class="sc">$</span><span class="fu">set_translation_language</span>(<span class="st">"en"</span>)</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a><span class="co">#' @export</span></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>ui <span class="ot">&lt;-</span> <span class="cf">function</span>(id) {</span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>  ns <span class="ot">&lt;-</span> shiny<span class="sc">$</span><span class="fu">NS</span>(id)</span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>  shiny<span class="sc">$</span><span class="fu">fluidPage</span>(</span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">usei18n</span>(i18n),</span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>    shiny<span class="sc">$</span><span class="fu">div</span>(</span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>      <span class="at">style =</span> <span class="st">"float: right;"</span>,</span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>      shiny<span class="sc">$</span><span class="fu">selectInput</span>(</span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ns</span>(<span class="st">"selected_language"</span>),</span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Change language"</span>,</span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a>        <span class="at">choices =</span> i18n<span class="sc">$</span><span class="fu">get_languages</span>(),</span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a>        <span class="at">selected =</span> i18n<span class="sc">$</span><span class="fu">get_key_translation</span>()</span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-27"><a href="#cb10-27" aria-hidden="true" tabindex="-1"></a>...</span></code></pre></div>
<p>We still miss the connection between the select input and the
translation language change. To achieve that, we will use an
<code>observeEvent</code> with <code><a href="../reference/update_lang.html">shiny.i18n::update_lang</a></code>
function:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># app/main.R</span></span>
<span></span>
<span><span class="fu">box</span><span class="fu">::</span><span class="fu">use</span><span class="op">(</span></span>
<span>  <span class="va">shiny</span>,</span>
<span>  <span class="va">graphics</span><span class="op">[</span><span class="va">hist</span><span class="op">]</span>,</span>
<span>  <span class="va">shiny.i18n</span><span class="op">[</span><span class="va">Translator</span>, <span class="va">usei18n</span>, <span class="va">update_lang</span><span class="op">]</span>,</span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">i18n</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/Translator.html">Translator</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>translation_json_path <span class="op">=</span> <span class="st">"app/translations/translations.json"</span><span class="op">)</span></span>
<span><span class="va">i18n</span><span class="op">$</span><span class="fu">set_translation_language</span><span class="op">(</span><span class="st">"en"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#' @export</span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">id</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">ns</span> <span class="op">&lt;-</span> <span class="va">shiny</span><span class="op">$</span><span class="fu">NS</span><span class="op">(</span><span class="va">id</span><span class="op">)</span></span>
<span>  <span class="va">shiny</span><span class="op">$</span><span class="fu">fluidPage</span><span class="op">(</span></span>
<span>    <span class="fu"><a href="../reference/usei18n.html">usei18n</a></span><span class="op">(</span><span class="va">i18n</span><span class="op">)</span>,</span>
<span>    <span class="va">shiny</span><span class="op">$</span><span class="fu">div</span><span class="op">(</span></span>
<span>      style <span class="op">=</span> <span class="st">"float: right;"</span>,</span>
<span>      <span class="va">shiny</span><span class="op">$</span><span class="fu">selectInput</span><span class="op">(</span></span>
<span>        <span class="fu">ns</span><span class="op">(</span><span class="st">"selected_language"</span><span class="op">)</span>,</span>
<span>        <span class="st">"Change language"</span>,</span>
<span>        choices <span class="op">=</span> <span class="va">i18n</span><span class="op">$</span><span class="fu">get_languages</span><span class="op">(</span><span class="op">)</span>,</span>
<span>        selected <span class="op">=</span> <span class="va">i18n</span><span class="op">$</span><span class="fu">get_key_translation</span><span class="op">(</span><span class="op">)</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">)</span>,</span>
<span>    <span class="va">shiny</span><span class="op">$</span><span class="fu">titlePanel</span><span class="op">(</span><span class="st">"Hello Shiny!"</span>, windowTitle <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span>,</span>
<span>    <span class="va">shiny</span><span class="op">$</span><span class="fu">sidebarLayout</span><span class="op">(</span></span>
<span>      <span class="va">shiny</span><span class="op">$</span><span class="fu">sidebarPanel</span><span class="op">(</span></span>
<span>        <span class="va">shiny</span><span class="op">$</span><span class="fu">sliderInput</span><span class="op">(</span></span>
<span>          <span class="fu">ns</span><span class="op">(</span><span class="st">"bins"</span><span class="op">)</span>,</span>
<span>          <span class="st">"Number of bins:"</span>,</span>
<span>          min <span class="op">=</span> <span class="fl">1</span>,</span>
<span>          max <span class="op">=</span> <span class="fl">50</span>,</span>
<span>          value <span class="op">=</span> <span class="fl">30</span></span>
<span>        <span class="op">)</span></span>
<span>      <span class="op">)</span>,</span>
<span>      <span class="va">shiny</span><span class="op">$</span><span class="fu">mainPanel</span><span class="op">(</span></span>
<span>        <span class="va">shiny</span><span class="op">$</span><span class="fu">plotOutput</span><span class="op">(</span><span class="fu">ns</span><span class="op">(</span><span class="st">"distPlot"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>        <span class="va">shiny</span><span class="op">$</span><span class="fu">p</span><span class="op">(</span><span class="st">"This is description of the plot."</span><span class="op">)</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co">#' @export</span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">id</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">shiny</span><span class="op">$</span><span class="fu">moduleServer</span><span class="op">(</span><span class="va">id</span>, <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">shiny</span><span class="op">$</span><span class="fu">observeEvent</span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">selected_language</span>, <span class="op">{</span></span>
<span>      <span class="fu"><a href="../reference/update_lang.html">update_lang</a></span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">selected_language</span><span class="op">)</span></span>
<span>    <span class="op">}</span><span class="op">)</span></span>
<span></span>
<span>    <span class="va">output</span><span class="op">$</span><span class="va">distPlot</span> <span class="op">&lt;-</span> <span class="va">shiny</span><span class="op">$</span><span class="fu">renderPlot</span><span class="op">(</span><span class="op">{</span></span>
<span>      <span class="va">x</span> <span class="op">&lt;-</span> <span class="fu">datasets</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/r/datasets/faithful.html" class="external-link">faithful</a></span><span class="op">[</span>, <span class="fl">2</span><span class="op">]</span></span>
<span>      <span class="va">bins</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>, length.out <span class="op">=</span> <span class="va">input</span><span class="op">$</span><span class="va">bins</span> <span class="op">+</span> <span class="fl">1</span><span class="op">)</span></span>
<span>      <span class="fu"><a href="https://rdrr.io/r/graphics/hist.html" class="external-link">hist</a></span><span class="op">(</span></span>
<span>        <span class="va">x</span>,</span>
<span>        breaks <span class="op">=</span> <span class="va">bins</span>,</span>
<span>        col <span class="op">=</span> <span class="st">"darkgray"</span>,</span>
<span>        border <span class="op">=</span> <span class="st">"white"</span>,</span>
<span>        main <span class="op">=</span> <span class="st">"Histogram of x"</span>,</span>
<span>        ylab <span class="op">=</span> <span class="st">"Frequency"</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">}</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>The next step is to translate text in the UI part of the application.
To do that, simply wrap text in <code>i18n$translate()</code>
method:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># app/main.R</span></span>
<span></span>
<span><span class="fu">box</span><span class="fu">::</span><span class="fu">use</span><span class="op">(</span></span>
<span>  <span class="va">shiny</span>,</span>
<span>  <span class="va">graphics</span><span class="op">[</span><span class="va">hist</span><span class="op">]</span>,</span>
<span>  <span class="va">shiny.i18n</span><span class="op">[</span><span class="va">Translator</span>, <span class="va">usei18n</span>, <span class="va">update_lang</span><span class="op">]</span>,</span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">i18n</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/Translator.html">Translator</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>translation_json_path <span class="op">=</span> <span class="st">"app/translations/translations.json"</span><span class="op">)</span></span>
<span><span class="va">i18n</span><span class="op">$</span><span class="fu">set_translation_language</span><span class="op">(</span><span class="st">"en"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#' @export</span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">id</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">ns</span> <span class="op">&lt;-</span> <span class="va">shiny</span><span class="op">$</span><span class="fu">NS</span><span class="op">(</span><span class="va">id</span><span class="op">)</span></span>
<span>  <span class="va">shiny</span><span class="op">$</span><span class="fu">fluidPage</span><span class="op">(</span></span>
<span>    <span class="fu"><a href="../reference/usei18n.html">usei18n</a></span><span class="op">(</span><span class="va">i18n</span><span class="op">)</span>,</span>
<span>    <span class="va">shiny</span><span class="op">$</span><span class="fu">div</span><span class="op">(</span></span>
<span>      style <span class="op">=</span> <span class="st">"float: right;"</span>,</span>
<span>      <span class="va">shiny</span><span class="op">$</span><span class="fu">selectInput</span><span class="op">(</span></span>
<span>        <span class="fu">ns</span><span class="op">(</span><span class="st">"selected_language"</span><span class="op">)</span>,</span>
<span>        <span class="va">i18n</span><span class="op">$</span><span class="fu">translate</span><span class="op">(</span><span class="st">"Change language"</span><span class="op">)</span>,</span>
<span>        choices <span class="op">=</span> <span class="va">i18n</span><span class="op">$</span><span class="fu">get_languages</span><span class="op">(</span><span class="op">)</span>,</span>
<span>        selected <span class="op">=</span> <span class="va">i18n</span><span class="op">$</span><span class="fu">get_key_translation</span><span class="op">(</span><span class="op">)</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">)</span>,</span>
<span>    <span class="va">shiny</span><span class="op">$</span><span class="fu">titlePanel</span><span class="op">(</span><span class="va">i18n</span><span class="op">$</span><span class="fu">translate</span><span class="op">(</span><span class="st">"Hello Shiny!"</span><span class="op">)</span>, windowTitle <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span>,</span>
<span>    <span class="va">shiny</span><span class="op">$</span><span class="fu">sidebarLayout</span><span class="op">(</span></span>
<span>      <span class="va">shiny</span><span class="op">$</span><span class="fu">sidebarPanel</span><span class="op">(</span></span>
<span>        <span class="va">shiny</span><span class="op">$</span><span class="fu">sliderInput</span><span class="op">(</span></span>
<span>          <span class="fu">ns</span><span class="op">(</span><span class="st">"bins"</span><span class="op">)</span>,</span>
<span>          <span class="va">i18n</span><span class="op">$</span><span class="fu">translate</span><span class="op">(</span><span class="st">"Number of bins:"</span><span class="op">)</span>,</span>
<span>          min <span class="op">=</span> <span class="fl">1</span>,</span>
<span>          max <span class="op">=</span> <span class="fl">50</span>,</span>
<span>          value <span class="op">=</span> <span class="fl">30</span></span>
<span>        <span class="op">)</span></span>
<span>      <span class="op">)</span>,</span>
<span>      <span class="va">shiny</span><span class="op">$</span><span class="fu">mainPanel</span><span class="op">(</span></span>
<span>        <span class="va">shiny</span><span class="op">$</span><span class="fu">plotOutput</span><span class="op">(</span><span class="fu">ns</span><span class="op">(</span><span class="st">"distPlot"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>        <span class="va">shiny</span><span class="op">$</span><span class="fu">p</span><span class="op">(</span><span class="va">i18n</span><span class="op">$</span><span class="fu">translate</span><span class="op">(</span><span class="st">"This is description of the plot."</span><span class="op">)</span><span class="op">)</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">...</span></span></code></pre></div>
<p>If you now run the app, you will see that changing the language
updates application text with the proper translation:</p>
<div class="app-preview">
<p><img src="images/i18n_browser_app.gif"></p>
</div>
</div>
<div class="section level3">
<h3 id="translate-the-server-part">Translate the server part<a class="anchor" aria-label="anchor" href="#translate-the-server-part"></a>
</h3>
<p>The only missing part is the plot - the title and y-axis label. The
text there is rendered in the server, so we need to add the translator
there:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># app/main.R</span></span>
<span></span>
<span><span class="fu">box</span><span class="fu">::</span><span class="fu">use</span><span class="op">(</span></span>
<span>  <span class="va">shiny</span>,</span>
<span>  <span class="va">graphics</span><span class="op">[</span><span class="va">hist</span><span class="op">]</span>,</span>
<span>  <span class="va">shiny.i18n</span><span class="op">[</span><span class="va">Translator</span>, <span class="va">usei18n</span>, <span class="va">update_lang</span><span class="op">]</span>,</span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">i18n</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/Translator.html">Translator</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>translation_json_path <span class="op">=</span> <span class="st">"app/translations/translations.json"</span><span class="op">)</span></span>
<span><span class="va">i18n</span><span class="op">$</span><span class="fu">set_translation_language</span><span class="op">(</span><span class="st">"en"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#' @export</span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">id</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">ns</span> <span class="op">&lt;-</span> <span class="va">shiny</span><span class="op">$</span><span class="fu">NS</span><span class="op">(</span><span class="va">id</span><span class="op">)</span></span>
<span>  <span class="va">shiny</span><span class="op">$</span><span class="fu">fluidPage</span><span class="op">(</span></span>
<span>    <span class="fu"><a href="../reference/usei18n.html">usei18n</a></span><span class="op">(</span><span class="va">i18n</span><span class="op">)</span>,</span>
<span>    <span class="va">shiny</span><span class="op">$</span><span class="fu">div</span><span class="op">(</span></span>
<span>      style <span class="op">=</span> <span class="st">"float: right;"</span>,</span>
<span>      <span class="va">shiny</span><span class="op">$</span><span class="fu">selectInput</span><span class="op">(</span></span>
<span>        <span class="fu">ns</span><span class="op">(</span><span class="st">"selected_language"</span><span class="op">)</span>,</span>
<span>        <span class="va">i18n</span><span class="op">$</span><span class="fu">translate</span><span class="op">(</span><span class="st">"Change language"</span><span class="op">)</span>,</span>
<span>        choices <span class="op">=</span> <span class="va">i18n</span><span class="op">$</span><span class="fu">get_languages</span><span class="op">(</span><span class="op">)</span>,</span>
<span>        selected <span class="op">=</span> <span class="va">i18n</span><span class="op">$</span><span class="fu">get_key_translation</span><span class="op">(</span><span class="op">)</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">)</span>,</span>
<span>    <span class="va">shiny</span><span class="op">$</span><span class="fu">titlePanel</span><span class="op">(</span><span class="va">i18n</span><span class="op">$</span><span class="fu">translate</span><span class="op">(</span><span class="st">"Hello Shiny!"</span><span class="op">)</span>, windowTitle <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span>,</span>
<span>    <span class="va">shiny</span><span class="op">$</span><span class="fu">sidebarLayout</span><span class="op">(</span></span>
<span>      <span class="va">shiny</span><span class="op">$</span><span class="fu">sidebarPanel</span><span class="op">(</span></span>
<span>        <span class="va">shiny</span><span class="op">$</span><span class="fu">sliderInput</span><span class="op">(</span></span>
<span>          <span class="fu">ns</span><span class="op">(</span><span class="st">"bins"</span><span class="op">)</span>,</span>
<span>          <span class="va">i18n</span><span class="op">$</span><span class="fu">translate</span><span class="op">(</span><span class="st">"Number of bins:"</span><span class="op">)</span>,</span>
<span>          min <span class="op">=</span> <span class="fl">1</span>,</span>
<span>          max <span class="op">=</span> <span class="fl">50</span>,</span>
<span>          value <span class="op">=</span> <span class="fl">30</span></span>
<span>        <span class="op">)</span></span>
<span>      <span class="op">)</span>,</span>
<span>      <span class="va">shiny</span><span class="op">$</span><span class="fu">mainPanel</span><span class="op">(</span></span>
<span>        <span class="va">shiny</span><span class="op">$</span><span class="fu">plotOutput</span><span class="op">(</span><span class="fu">ns</span><span class="op">(</span><span class="st">"distPlot"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>        <span class="va">shiny</span><span class="op">$</span><span class="fu">p</span><span class="op">(</span><span class="va">i18n</span><span class="op">$</span><span class="fu">translate</span><span class="op">(</span><span class="st">"This is description of the plot."</span><span class="op">)</span><span class="op">)</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co">#' @export</span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">id</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">shiny</span><span class="op">$</span><span class="fu">moduleServer</span><span class="op">(</span><span class="va">id</span>, <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">shiny</span><span class="op">$</span><span class="fu">observeEvent</span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">selected_language</span>, <span class="op">{</span></span>
<span>      <span class="fu"><a href="../reference/update_lang.html">update_lang</a></span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">selected_language</span><span class="op">)</span></span>
<span>    <span class="op">}</span><span class="op">)</span></span>
<span></span>
<span>    <span class="va">output</span><span class="op">$</span><span class="va">distPlot</span> <span class="op">&lt;-</span> <span class="va">shiny</span><span class="op">$</span><span class="fu">renderPlot</span><span class="op">(</span><span class="op">{</span></span>
<span>      <span class="va">x</span> <span class="op">&lt;-</span> <span class="fu">datasets</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/r/datasets/faithful.html" class="external-link">faithful</a></span><span class="op">[</span>, <span class="fl">2</span><span class="op">]</span></span>
<span>      <span class="va">bins</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>, length.out <span class="op">=</span> <span class="va">input</span><span class="op">$</span><span class="va">bins</span> <span class="op">+</span> <span class="fl">1</span><span class="op">)</span></span>
<span>      <span class="fu"><a href="https://rdrr.io/r/graphics/hist.html" class="external-link">hist</a></span><span class="op">(</span></span>
<span>        <span class="va">x</span>,</span>
<span>        breaks <span class="op">=</span> <span class="va">bins</span>,</span>
<span>        col <span class="op">=</span> <span class="st">"darkgray"</span>,</span>
<span>        border <span class="op">=</span> <span class="st">"white"</span>,</span>
<span>        main <span class="op">=</span> <span class="va">i18n</span><span class="op">$</span><span class="fu">translate</span><span class="op">(</span><span class="st">"Histogram of x"</span><span class="op">)</span>,</span>
<span>        ylab <span class="op">=</span> <span class="va">i18n</span><span class="op">$</span><span class="fu">translate</span><span class="op">(</span><span class="st">"Frequency"</span><span class="op">)</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">}</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>Now, if you run the application, everything should work:</p>
<div class="app-preview">
<p><img src="images/i18n_single_module_app.gif"></p>
</div>
</div>
</div>
<div class="section level2">
<h2 id="add-inner-module">Add inner module<a class="anchor" aria-label="anchor" href="#add-inner-module"></a>
</h2>
<p>A Rhino application is usually built using multiple Shiny modules.
You can learn more about the Rhino structure from <a href="https://appsilon.github.io/rhino/articles/explanation/application-structure.html" class="external-link">this
article</a>. In this section, we are going to show how the translator
can be used in such a setup, by moving the main panel into a separate
module.</p>
<p>First, create a new R file <code>app/view/main_panel.R</code>:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># app/view/main_panel.R</span></span>
<span></span>
<span><span class="fu">box</span><span class="fu">::</span><span class="fu">use</span><span class="op">(</span></span>
<span>  <span class="va">shiny</span>,</span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co">#' @export</span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">id</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">ns</span> <span class="op">&lt;-</span> <span class="va">shiny</span><span class="op">$</span><span class="fu">NS</span><span class="op">(</span><span class="va">id</span><span class="op">)</span></span>
<span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co">#' @export</span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">id</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">shiny</span><span class="op">$</span><span class="fu">moduleServer</span><span class="op">(</span><span class="va">id</span>, <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>Now, let’s move the main panel from <code>app/main.R</code> into
<code>app/view/main_panel.R</code>:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># app/view/main_panel.R</span></span>
<span></span>
<span><span class="fu">box</span><span class="fu">::</span><span class="fu">use</span><span class="op">(</span></span>
<span>  <span class="va">shiny</span>,</span>
<span>  <span class="va">graphics</span><span class="op">[</span><span class="va">hist</span><span class="op">]</span>,</span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co">#' @export</span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">id</span>, <span class="va">i18n</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">ns</span> <span class="op">&lt;-</span> <span class="va">shiny</span><span class="op">$</span><span class="fu">NS</span><span class="op">(</span><span class="va">id</span><span class="op">)</span></span>
<span></span>
<span>  <span class="va">shiny</span><span class="op">$</span><span class="fu">mainPanel</span><span class="op">(</span></span>
<span>    <span class="va">shiny</span><span class="op">$</span><span class="fu">plotOutput</span><span class="op">(</span><span class="fu">ns</span><span class="op">(</span><span class="st">"distPlot"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    <span class="va">shiny</span><span class="op">$</span><span class="fu">p</span><span class="op">(</span><span class="va">i18n</span><span class="op">$</span><span class="fu">translate</span><span class="op">(</span><span class="st">"This is description of the plot."</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co">#' @export</span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">id</span>, <span class="va">bins</span>, <span class="va">i18n</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">shiny</span><span class="op">$</span><span class="fu">moduleServer</span><span class="op">(</span><span class="va">id</span>, <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">output</span><span class="op">$</span><span class="va">distPlot</span> <span class="op">&lt;-</span> <span class="va">shiny</span><span class="op">$</span><span class="fu">renderPlot</span><span class="op">(</span><span class="op">{</span></span>
<span>      <span class="va">x</span> <span class="op">&lt;-</span> <span class="fu">datasets</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/r/datasets/faithful.html" class="external-link">faithful</a></span><span class="op">[</span>, <span class="fl">2</span><span class="op">]</span></span>
<span>      <span class="va">bins</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>, length.out <span class="op">=</span> <span class="fu">bins</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fl">1</span><span class="op">)</span></span>
<span>      <span class="fu"><a href="https://rdrr.io/r/graphics/hist.html" class="external-link">hist</a></span><span class="op">(</span></span>
<span>        <span class="va">x</span>,</span>
<span>        breaks <span class="op">=</span> <span class="va">bins</span>,</span>
<span>        col <span class="op">=</span> <span class="st">"darkgray"</span>,</span>
<span>        border <span class="op">=</span> <span class="st">"white"</span>,</span>
<span>        main <span class="op">=</span> <span class="va">i18n</span><span class="op">$</span><span class="fu">translate</span><span class="op">(</span><span class="st">"Histogram of x"</span><span class="op">)</span>,</span>
<span>        ylab <span class="op">=</span> <span class="va">i18n</span><span class="op">$</span><span class="fu">translate</span><span class="op">(</span><span class="st">"Frequency"</span><span class="op">)</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">}</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>The important part to notice here is that the Translator
(<code>i18n</code> object) needs to be passed as an argument to the
inner module.</p>
<p>The next step is to call the main panel module in the
<code>app/main.R</code> file:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># app/main.R</span></span>
<span></span>
<span><span class="fu">box</span><span class="fu">::</span><span class="fu">use</span><span class="op">(</span></span>
<span>  <span class="va">shiny</span>,</span>
<span>  <span class="va">shiny.i18n</span><span class="op">[</span><span class="va">Translator</span>, <span class="va">usei18n</span>, <span class="va">update_lang</span><span class="op">]</span>,</span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">box</span><span class="fu">::</span><span class="fu">use</span><span class="op">(</span></span>
<span>  <span class="va">app</span><span class="op">/</span><span class="va">view</span><span class="op">/</span><span class="va">main_panel</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">i18n</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/Translator.html">Translator</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>translation_json_path <span class="op">=</span> <span class="st">"app/translations/translations.json"</span><span class="op">)</span></span>
<span><span class="va">i18n</span><span class="op">$</span><span class="fu">set_translation_language</span><span class="op">(</span><span class="st">"en"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#' @export</span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">id</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">ns</span> <span class="op">&lt;-</span> <span class="va">shiny</span><span class="op">$</span><span class="fu">NS</span><span class="op">(</span><span class="va">id</span><span class="op">)</span></span>
<span>  <span class="va">shiny</span><span class="op">$</span><span class="fu">fluidPage</span><span class="op">(</span></span>
<span>    <span class="fu"><a href="../reference/usei18n.html">usei18n</a></span><span class="op">(</span><span class="va">i18n</span><span class="op">)</span>,</span>
<span>    <span class="va">shiny</span><span class="op">$</span><span class="fu">div</span><span class="op">(</span></span>
<span>      style <span class="op">=</span> <span class="st">"float: right;"</span>,</span>
<span>      <span class="va">shiny</span><span class="op">$</span><span class="fu">selectInput</span><span class="op">(</span></span>
<span>        <span class="fu">ns</span><span class="op">(</span><span class="st">"selected_language"</span><span class="op">)</span>,</span>
<span>        <span class="va">i18n</span><span class="op">$</span><span class="fu">translate</span><span class="op">(</span><span class="st">"Change language"</span><span class="op">)</span>,</span>
<span>        choices <span class="op">=</span> <span class="va">i18n</span><span class="op">$</span><span class="fu">get_languages</span><span class="op">(</span><span class="op">)</span>,</span>
<span>        selected <span class="op">=</span> <span class="va">i18n</span><span class="op">$</span><span class="fu">get_key_translation</span><span class="op">(</span><span class="op">)</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">)</span>,</span>
<span>    <span class="va">shiny</span><span class="op">$</span><span class="fu">titlePanel</span><span class="op">(</span><span class="va">i18n</span><span class="op">$</span><span class="fu">translate</span><span class="op">(</span><span class="st">"Hello Shiny!"</span><span class="op">)</span>, windowTitle <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span>,</span>
<span>    <span class="va">shiny</span><span class="op">$</span><span class="fu">sidebarLayout</span><span class="op">(</span></span>
<span>      <span class="va">shiny</span><span class="op">$</span><span class="fu">sidebarPanel</span><span class="op">(</span></span>
<span>        <span class="va">shiny</span><span class="op">$</span><span class="fu">sliderInput</span><span class="op">(</span></span>
<span>          <span class="fu">ns</span><span class="op">(</span><span class="st">"bins"</span><span class="op">)</span>,</span>
<span>          <span class="va">i18n</span><span class="op">$</span><span class="fu">translate</span><span class="op">(</span><span class="st">"Number of bins:"</span><span class="op">)</span>,</span>
<span>          min <span class="op">=</span> <span class="fl">1</span>,</span>
<span>          max <span class="op">=</span> <span class="fl">50</span>,</span>
<span>          value <span class="op">=</span> <span class="fl">30</span></span>
<span>        <span class="op">)</span></span>
<span>      <span class="op">)</span>,</span>
<span>      <span class="va">main_panel</span><span class="op">$</span><span class="fu">ui</span><span class="op">(</span><span class="fu">ns</span><span class="op">(</span><span class="st">"main_panel"</span><span class="op">)</span>, i18n <span class="op">=</span> <span class="va">i18n</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co">#' @export</span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">id</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">shiny</span><span class="op">$</span><span class="fu">moduleServer</span><span class="op">(</span><span class="va">id</span>, <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">shiny</span><span class="op">$</span><span class="fu">observeEvent</span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">selected_language</span>, <span class="op">{</span></span>
<span>      <span class="fu"><a href="../reference/update_lang.html">update_lang</a></span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">selected_language</span><span class="op">)</span></span>
<span>    <span class="op">}</span><span class="op">)</span></span>
<span></span>
<span>    <span class="va">main_panel</span><span class="op">$</span><span class="fu">server</span><span class="op">(</span><span class="st">"main_panel"</span>, bins <span class="op">=</span> <span class="va">shiny</span><span class="op">$</span><span class="fu">reactive</span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">bins</span><span class="op">)</span>, i18n <span class="op">=</span> <span class="va">i18n</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>If you now run the application, it should look and behave as
previously. The translation mechanism works, but the application code is
now better structured.</p>
<div class="app-preview">
<p><img src="images/i18n_finall_app.gif"></p>
</div>
<hr>
<p><strong>Congratulations! You now have a fully armed and operational
<del>battle station</del> multilingual Rhino application!</strong></p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed with <span class="emoji" data-emoji="heart">❤️</span> by <a href="https://appsilon.com" class="external-link">Appsilon</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
